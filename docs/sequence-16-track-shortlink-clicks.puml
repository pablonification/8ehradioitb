@startuml
!theme plain
skinparam sequenceArrowThickness 2
skinparam roundcorner 20
skinparam maxmessagesize 60

title Track Shortlink Clicks Sequence
participant Guest
participant RedirectAPI
participant prisma
participant ShortLinkClick
participant ShortLink

Guest -> RedirectAPI: GET /api/redirect/[slug]
RedirectAPI -> RedirectAPI: Extract click metadata
note right: IP, User-Agent, Referer, etc.
RedirectAPI -> prisma: shortLinkClick.create()
prisma -> ShortLinkClick: insert click record
ShortLinkClick --> prisma: click data
prisma --> RedirectAPI: click recorded
RedirectAPI -> RedirectAPI: increment click counter
RedirectAPI --> Guest: Continue with redirect

@enduml
