@startuml
!theme plain
skinparam sequenceArrowThickness 2
skinparam roundcorner 20
skinparam maxmessagesize 60

title Play Tune Tracker Preview Sequence
participant Guest
participant TuneTrackerSection
participant Audio
participant ProxyAudioAPI

Guest -> TuneTrackerSection: Click play on tune preview
TuneTrackerSection -> TuneTrackerSection: Check if audioUrl exists
alt Audio URL available
    TuneTrackerSection -> ProxyAudioAPI: GET /api/proxy-audio?key=audioUrl
    ProxyAudioAPI -> ProxyAudioAPI: Generate signed URL
    ProxyAudioAPI --> TuneTrackerSection: signed audio URL
    TuneTrackerSection -> Audio: src = signed URL
    TuneTrackerSection -> Audio: play()
    Audio --> TuneTrackerSection: playing event
    TuneTrackerSection --> Guest: Preview playing
else No audio URL
    TuneTrackerSection --> Guest: No preview available
end

@enduml
